<% provide(:title, "Bookmark") %>
<div class="ranking-index">
  <h2>ブックマーク</h2>
  <nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
      <h3>講義</h3>
    </div>
  </nav>
  <div class="tab-content" id="nav-tabContent">
    <% if @bookmarks.exists? %>
    <div class="tab-pane fade show active" id="nav-lecture-ranking" role="tabpanel" aria-labelledby="nav-lecture-ranking-tab">
      <ul class="rankings">
        <% @bookmarks.each do |bookmark| %>
        <div id = lecture_<%= bookmark.lecture.id %> class = "lecture" >
          <div class="row">

            <%# スコア %>
            <div class="col-sm-1 col-2 mx-2">
              <span class="score">
                <%= bookmark.lecture.average_score %>
              </span> 
            </div>
            
            <%# クラス %>
            <div class="col-3 col-lg-3 px-0 py-auto">
              <span class="class-name m-0 p-0">
              <%= link_to bookmark.lecture.name, bookmark.lecture %>
              </span>
            </div>

            <%# 先生とレビュー %>
            <div class="col-sm-3 col-4 p-0 p-sm-auto">
              
              <%# 先生 %>
              <span class="teacher-name">
                <%= link_to bookmark.lecture.teacher.name, bookmark.lecture.teacher %>
              </span>
              
              <%# レビュー数 %>
              <span>
                <i class="far fa-comment-dots"></i><%= bookmark.lecture.all_reviews_count %>
              </span>

            </div>

          </div>
        </div>
        <% end %>
        <% else %>
        <p>
          ブックマークに登録した講義はありません。<br>
          <small>※講義詳細ページから講義をブックマークに追加できます</small>
        </p>
      </ul>
    </div>
    <% end %>
  </div>
</div>