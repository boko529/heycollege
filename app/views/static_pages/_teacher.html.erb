<div id = teacher_<%= teacher.id %> class = "teacher container-fluid" >
  <div class="row">

    <%# 順位 %>
    <div class="col-1 d-flex">
      <span class="rank">
        <%# ページネートに合わせて順位を表示。1ページ目はnil %>
        <% if i == 1 %>
          <% @lastScore = teacher.average_score %>
        <% end %>
        <% if teacher.average_score != @lastScore %>
          <% @j = i %>
          <% if params[:teachers_page] %>
            <%= @j + 20 * ( params[:teachers_page].to_i - 1 ) %><%= t('.place')%>
          <% else %>
            <%= @j + 20 * params[:teachers_page].to_i %><%= t('.place')%>
          <% end %>
          <% lastScore = teacher.average_score %>
        <% else %>
          <% if params[:teachers_page] %>
            <%= @j + 20 * ( params[:teachers_page].to_i - 1 ) %><%= t('.place')%>
          <% else %>
            <%= @j + 20 * params[:teachers_page].to_i %><%= t('.place')%>
          <% end %>
        <% end %>
      </span>
    </div>

    <%# スコア %>
    <div class="col-2 col-sm-1 d-flex">
      <span class="score">
        <a><%= teacher.average_score %></a>
      </span>
    </div>

    <%# ウェブ %>
    <div class="col-sm-7 d-none d-sm-flex">
      <%# 先生名 %>
      <span class="teacher-teachername">
        <%= link_to t_display_name(teacher), teacher %>
      </span>
      <%# レビュー数 %>
      <span class="web-reviewcount">
        <i class="far fa-comment-dots"></i><%= teacher.review_comment_count %>
      </span>
    </div>

    <%# スマホ版 %>
    <div class="col-6 d-inline d-sm-none">
      <%# 先生 %>
      <div class="teacher-mobile-teacher">
        <span class="mobile-teacher-name d-inlineblock">
          <%= link_to t_display_name(teacher), teacher %>
        </span>
      </div>
    </div>
    <%# レビュー数 %>
    <div class="col-1 teacher-mobile-review-count d-sm-none">
      <i class="far fa-comment-dots"></i><%= teacher.review_comment_count %>
    </div>
  </div>
</div>